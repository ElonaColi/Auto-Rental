@model IEnumerable<Auto_Rental.Models.Car>

@{
    ViewData["Title"] = "Manage Cars";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<h1 class="mb-4">Manage Cars</h1>
<div class="d-flex justify-content-end mb-4">
    <a asp-area="Admin"
       asp-controller="Cars"
       asp-action="Create"
       class="btn btn-success">
        <i class="fas fa-plus me-1"></i> Add New Car
    </a>
</div>

@foreach (var car in Model)
{
    <div class="card shadow-sm border-0 mb-3">
        <div class="card-body d-flex justify-content-between align-items-center">
            <div class="d-flex align-items-center">
                @if (!string.IsNullOrEmpty(car.ImageUrl))
                {
                    <img src="@Url.Content(car.ImageUrl)"
                         alt="@car.Brand @car.Model"
                         style="width:120px;height:80px;object-fit:cover"
                         class="rounded me-3" />
                }
                else
                {
                    <div style="width:120px;height:80px"
                         class="bg-light d-flex align-items-center justify-content-center me-3 rounded">
                        No Image
                    </div>
                }

                <div>
                    <h5 class="mb-1">@car.Brand @car.Model</h5>
                    <p class="mb-0">Year: @car.Year</p>
                    <p class="mb-0">Price/Day: @car.PricePerDay.ToString("C")</p>
                    <p class="mb-0">Location: @car.Location</p>
                    <p class="mb-0">Fuel: @car.FuelType</p>
                    <p class="mb-0">Description: @car.Description</p>
                    <span class="badge @(car.IsActive ? "bg-success" : "bg-secondary")">
                        @(car.IsActive ? "Active" : "Inactive")
                    </span>
                </div>
            </div>

            <div>
                <a asp-area="Admin" asp-controller="Cars" asp-action="Edit"
                   asp-route-id="@car.Id"
                   class="btn btn-sm btn-primary me-1">
                    Edit
                </a>

                <a asp-area="Admin" asp-controller="Cars" asp-action="Details"
                   asp-route-id="@car.Id"
                   class="btn btn-sm btn-info me-1">
                    Details
                </a>

                <a asp-area="Admin" asp-controller="Cars" asp-action="Delete"
                   asp-route-id="@car.Id"
                   class="btn btn-sm btn-danger">
                    Delete
                </a>
            </div>
        </div>
    </div>
}

@if (!Model.Any())
{
    <div class="alert alert-warning">
        No cars found.
    </div>
}
